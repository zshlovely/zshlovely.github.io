
<!DOCTYPE html>
<html lang="zh-CN">


<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#202020"/>
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>
  
  
    <meta name="keywords" content="Java框架," />
  

  
    <meta name="description" content="既然选择远方，便只顾风雨兼程" />
  
  
  <link rel="icon" type="image/x-icon" href="/logo.png">
  <title>SpringBoot从入门到精通 [ shaohua&#39;s blog ]</title>
  
    <!-- stylesheets list from config.yml -->
    
      <link rel="stylesheet" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css">
    
      <link rel="stylesheet" href="/css/xoxo.css">
    
  
<meta name="generator" content="Hexo 6.2.0"></head>


<body>
  <div class="nav-container">
    <nav class="home-menu pure-menu pure-menu-horizontal">
  <a class="pure-menu-heading" href="/">
    <img class="avatar" src="/images/logo.png">
    <span class="title">shaohua&#39;s blog</span>
  </a>

  <ul class="pure-menu-list clearfix">
      
          
            <li class="pure-menu-item"><a href="/" class="pure-menu-link">首页</a></li>
          
      
          
            <li class="pure-menu-item"><a href="/archives" class="pure-menu-link">归档</a></li>
          
      
          
            <li class="pure-menu-item"><a href="/tags" class="pure-menu-link">标签</a></li>
          
      
          
            <li class="pure-menu-item"><a href="/categories" class="pure-menu-link">分类</a></li>
          
      
          
            <li class="pure-menu-item"><a href="/search" class="pure-menu-link">搜索</a></li>
          
      
          
            <li class="pure-menu-item"><a href="/about" class="pure-menu-link">关于</a></li>
          
      
  </ul>
   
</nav>
  </div>

  <div class="container" id="content-outer">
    <div class="inner" id="content-inner">
      <div class="post-container">
  <article class="post" id="post">
    <header class="post-header text-center">
      <h1 class="title">
        SpringBoot从入门到精通
      </h1>
      <span>
        
        <time class="time" datetime="2019-12-09T17:10:20.000Z">
        2019-12-10
      </time>
        
      </span>
      <span class="slash">/</span>
      <span class="post-meta">
      <span class="post-tags">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java%E6%A1%86%E6%9E%B6/" rel="tag">Java框架</a></li></ul>
      </span>
    </span>
      <span class="slash">/</span>
      <span class="read">
      <span id="busuanzi_value_page_pv"></span> 点击
    </span>
      <span class="slash">/</span>
      <span class="read">阅读耗时 50 分钟</span>
    </header>

    <div class="post-content">
      <h1 id="SpringBoot-2-X"><a href="#SpringBoot-2-X" class="headerlink" title="SpringBoot 2.X"></a>SpringBoot 2.X</h1><h2 id="1-第一部分"><a href="#1-第一部分" class="headerlink" title="1. 第一部分"></a>1. 第一部分</h2><h3 id="1-SpringBoot2-x依赖环境和版本新特性说明"><a href="#1-SpringBoot2-x依赖环境和版本新特性说明" class="headerlink" title="1. SpringBoot2.x依赖环境和版本新特性说明"></a>1. SpringBoot2.x依赖环境和版本新特性说明</h3><p>1、依赖版本jdk8以上, Springboot2.x用JDK8, 因为底层是 Spring framework5<br>2、安装maven最新版本，maven3.2以上版本，下载地址 ：<a target="_blank" rel="noopener" href="https://maven.apache.org/download.cgi">https://maven.apache.org/download.cgi</a><br>3、建议IDEA<br>4、新特性<br>5、翻译工具：<a target="_blank" rel="noopener" href="https://translate.google.cn/">https://translate.google.cn/</a><br>6、springbootGitHub地址：<a target="_blank" rel="noopener" href="https://github.com/spring-projects/spring-boot">https://github.com/spring-projects/spring-boot</a><br>7、springboot官方文档：<a target="_blank" rel="noopener" href="https://spring.io/guides/gs/spring-boot/">https://spring.io/guides/gs/spring-boot/</a></p>
<h3 id="2-快速创建SpringBoot2-x应用之手工创建web应用"><a href="#2-快速创建SpringBoot2-x应用之手工创建web应用" class="headerlink" title="2. 快速创建SpringBoot2.x应用之手工创建web应用"></a>2. 快速创建SpringBoot2.x应用之手工创建web应用</h3><p>文档：<a target="_blank" rel="noopener" href="https://spring.io/guides/gs/rest-service/">https://spring.io/guides/gs/rest-service/</a></p>
<ol>
<li><p>使用idea 创建maven工程</p>
</li>
<li><p>使用构建工具自动生成项目基本架构：<a target="_blank" rel="noopener" href="http://start.spring.io/">http://start.spring.io/</a></p>
</li>
</ol>
<h2 id="2-第二部分-SpringBoot接口Http协议开发实战"><a href="#2-第二部分-SpringBoot接口Http协议开发实战" class="headerlink" title="2. 第二部分-SpringBoot接口Http协议开发实战"></a>2. 第二部分-SpringBoot接口Http协议开发实战</h2><h3 id="1-SpringBoot2-xHTTP请求配置讲解"><a href="#1-SpringBoot2-xHTTP请求配置讲解" class="headerlink" title="1. SpringBoot2.xHTTP请求配置讲解"></a>1. SpringBoot2.xHTTP请求配置讲解</h3><ol>
<li>@RestController and @RequestMapping 是springMVC的注解，不是springboot特有的	</li>
<li>@RestController &#x3D; @Controller+@ResponseBody	</li>
<li>@SpringBootApplication &#x3D; @Configuration+@EnableAutoConfiguration+@ComponentScan<br>    localhost:8080</li>
</ol>
<h3 id="2-PostMan接口调试工具"><a href="#2-PostMan接口调试工具" class="headerlink" title="2. PostMan接口调试工具"></a>2. PostMan接口调试工具</h3><p>具体使用自行google</p>
<h3 id="3-SpringBoot基础HTTP接口请求实战"><a href="#3-SpringBoot基础HTTP接口请求实战" class="headerlink" title="3. SpringBoot基础HTTP接口请求实战"></a>3. SpringBoot基础HTTP接口请求实战</h3><h4 id="1-GET请求"><a href="#1-GET请求" class="headerlink" title="1. GET请求"></a>1. GET请求</h4><pre><code>单一参数@RequestMapping(path = &quot;/&#123;id&#125;&quot;, method = RequestMethod.GET)
1) public String getUser(@PathVariable String id ) &#123;&#125;

2）@RequestMapping(path = &quot;/&#123;depid&#125;/&#123;userid&#125;&quot;, method = RequestMethod.GET) 可以同时指定多个提交方法
getUser(@PathVariable(&quot;depid&quot;) String departmentID,@PathVariable(&quot;userid&quot;) String userid)

3）一个顶俩
@GetMapping = @RequestMapping(method = RequestMethod.GET)
@PostMapping = @RequestMapping(method = RequestMethod.POST)
@PutMapping = @RequestMapping(method = RequestMethod.PUT)
@DeleteMapping = @RequestMapping(method = RequestMethod.DELETE)

4）@RequestParam(value = &quot;name&quot;, required = true)
    可以设置默认值，比如分页 

4)@RequestBody 请求体映射实体类
    需要指定http头为 content-type为application/json charset=utf-8

5）@RequestHeader 请求头，比如鉴权
    @RequestHeader(&quot;access_token&quot;) String accessToken

6）HttpServletRequest request自动注入获取参数
</code></pre>
<h4 id="2-POST-PUT-DELETE请求"><a href="#2-POST-PUT-DELETE请求" class="headerlink" title="2. POST,PUT,DELETE请求"></a>2. POST,PUT,DELETE请求</h4><p>略</p>
<h4 id="3-常用json框架介绍和Jackson返回结果处理"><a href="#3-常用json框架介绍和Jackson返回结果处理" class="headerlink" title="3. 常用json框架介绍和Jackson返回结果处理"></a>3. 常用json框架介绍和Jackson返回结果处理</h4><p>1、常用框架 阿里 fastjson,谷歌gson等</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">JavaBean序列化为Json，性能：Jackson &gt; FastJson &gt; Gson &gt; Json-lib 同个结构</span><br><span class="line">Jackson、FastJson、Gson类库各有优点，各有自己的专长</span><br><span class="line">空间换时间，时间换空间</span><br></pre></td></tr></table></figure>

<p>2、jackson处理相关自动</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">指定字段不返回：@JsonIgnore</span><br><span class="line">指定日期格式：@JsonFormat(pattern=&quot;yyyy-MM-dd hh:mm:ss&quot;,locale=&quot;zh&quot;,timezone=&quot;GMT+8&quot;)</span><br><span class="line">空字段不返回：@JsonInclude(Include.NON_NUll)</span><br><span class="line">指定别名：@JsonProperty</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="4-SpringBoot2-x目录文件结构讲解"><a href="#4-SpringBoot2-x目录文件结构讲解" class="headerlink" title="4. SpringBoot2.x目录文件结构讲解"></a>4. SpringBoot2.x目录文件结构讲解</h4><p> 1、目录讲解</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">src/main/java：存放代码</span><br><span class="line">	 src/main/resources</span><br><span class="line">		static: 存放静态文件，比如 css、js、image, （访问方式 http://localhost:8080/js/main.js）</span><br><span class="line">		templates:存放静态页面jsp,html,tpl</span><br><span class="line">		config:存放配置文件,application.properties</span><br><span class="line">		resources:</span><br></pre></td></tr></table></figure>

<p> 2、引入依赖 Thymeleaf</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">	   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">	   &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;</span><br><span class="line">	&lt;/dependency&gt;</span><br><span class="line">注意：如果不引人这个依赖包，html文件应该放在默认加载文件夹里面，比如resources、比如resources/static、比如resources/public这个几个文件夹，才可以访问</span><br></pre></td></tr></table></figure>

<p> 3、同个文件的加载顺序,静态资源文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Spring Boot 默认会挨个从META/resources &gt; resources &gt; static &gt; public  里面找是否存在相应的资源，如果有则直接返回。</span><br></pre></td></tr></table></figure>

<p> 4、默认配置	<br>    1）官网地址：<a target="_blank" rel="noopener" href="https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-developing-web-applications.html#boot-features-spring-mvc-static-content">https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-developing-web-applications.html#boot-features-spring-mvc-static-content</a></p>
<pre><code>2）spring.resources.static-locations = classpath:/META-INF/resources/,classpath:/resources/,classpath:/static/,classpath:/public/ 
</code></pre>
<p> 5、静态资源文件存储在CDN</p>
<h4 id="4-文件上传实战"><a href="#4-文件上传实战" class="headerlink" title="4. 文件上传实战"></a>4. 文件上传实战</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1）静态页面直接访问：localhost:8080/index.html</span><br><span class="line">	注意点：</span><br><span class="line">		如果想要直接访问html页面，则需要把html放在springboot默认加载的文件夹下面</span><br><span class="line">2）MultipartFile 对象的transferTo方法，用于文件保存（效率和操作比原先用FileOutStream方便和高效）</span><br><span class="line"></span><br><span class="line">访问路径 http://localhost:8080/images/20220531000000.jpeg</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="5-jar包方式运行web项目的文件上传和访问处理"><a href="#5-jar包方式运行web项目的文件上传和访问处理" class="headerlink" title="5. jar包方式运行web项目的文件上传和访问处理"></a>5. jar包方式运行web项目的文件上传和访问处理</h4><p>1、文件大小配置，启动类里面配置(springboot main class)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@Bean  </span><br><span class="line">public MultipartConfigElement multipartConfigElement() &#123;  </span><br><span class="line">	MultipartConfigFactory factory = new MultipartConfigFactory();  </span><br><span class="line">	//单个文件最大  </span><br><span class="line">	factory.setMaxFileSize(&quot;10240KB&quot;); //KB,MB  </span><br><span class="line">	/// 设置总上传数据总大小  </span><br><span class="line">	factory.setMaxRequestSize(&quot;1024000KB&quot;);  </span><br><span class="line">	return factory.createMultipartConfig();  </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

<p>2、打包成jar包，需要增加maven依赖</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;build&gt;</span><br><span class="line">	&lt;plugins&gt;</span><br><span class="line">		&lt;plugin&gt;</span><br><span class="line">			&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">			&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;</span><br><span class="line">		&lt;/plugin&gt;</span><br><span class="line">	&lt;/plugins&gt;</span><br><span class="line">&lt;/build&gt;</span><br><span class="line">如果没加相关依赖，执行maven打包，运行后会报错:no main manifest attribute, in XXX.jar</span><br><span class="line"></span><br><span class="line">GUI：反编译工具，作用就是用于把class文件转换成java文件</span><br></pre></td></tr></table></figure>

<p>3、文件上传和访问需要指定磁盘路径</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">application.properties中增加下面配置</span><br><span class="line">	1) web.images-path=/Users/jack/Desktop</span><br><span class="line">	2) spring.resources.static-locations=classpath:/META-INF/resources/,classpath:/resources/,classpath:/static/,classpath:/public/,classpath:/test/,file:$&#123;web.upload-path&#125; </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>4、文件服务器：fastdfs，阿里云oss，nginx搭建一个简单的文件服务器</p>
<h2 id="3-SpringBoot热部署devtool和配置文件自动注入实战"><a href="#3-SpringBoot热部署devtool和配置文件自动注入实战" class="headerlink" title="3. SpringBoot热部署devtool和配置文件自动注入实战"></a>3. SpringBoot热部署devtool和配置文件自动注入实战</h2><h3 id="1-使用Dev-tool热部署"><a href="#1-使用Dev-tool热部署" class="headerlink" title="1. 使用Dev-tool热部署"></a>1. 使用Dev-tool热部署</h3><p>什么是热部署，使用springboot结合dev-tool工具，快速加载启动应用</p>
<p>官方地址：<a target="_blank" rel="noopener" href="https://docs.spring.io/spring-boot/docs/2.7.0/reference/reference/htmlsingle/#using-boot-devtools">https://docs.spring.io/spring-boot/docs/2.7.0/reference/reference/htmlsingle/#using-boot-devtools</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">核心依赖包：</span><br><span class="line">	&lt;dependency&gt;  </span><br><span class="line">		 &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  </span><br><span class="line">		 &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;  </span><br><span class="line">		 &lt;optional&gt;true&lt;/optional&gt;  </span><br><span class="line">	 &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">添加依赖后，在ide里面重启应用，后续修改后马上可以生效</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">不被热部署的文件</span><br><span class="line">	1、/META-INF/maven, /META-INF/resources, /resources, /static, /public, or /templates</span><br><span class="line">	2、指定文件不进行热部署 spring.devtools.restart.exclude=static/**,public/**</span><br><span class="line">	3、手工触发重启 spring.devtools.restart.trigger-file=trigger.txt</span><br><span class="line">		改代码不重启，通过一个文本去控制</span><br><span class="line"></span><br><span class="line">https://docs.spring.io/spring-boot/docs/2.7.0/reference/htmlsingle/#using-boot-devtools-restart-exclude</span><br><span class="line"></span><br><span class="line">注意点：生产环境不要开启这个功能，如果用java -jar启动，springBoot是不会进行热部署的</span><br></pre></td></tr></table></figure>

<h3 id="2-SpringBoot2-x配置文件讲解"><a href="#2-SpringBoot2-x配置文件讲解" class="headerlink" title="2. SpringBoot2.x配置文件讲解"></a>2. SpringBoot2.x配置文件讲解</h3><h4 id="1-xml、properties、json、yaml"><a href="#1-xml、properties、json、yaml" class="headerlink" title="1. xml、properties、json、yaml"></a>1. xml、properties、json、yaml</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">1、常见的配置文件 xx.yml, xx.properties，</span><br><span class="line">	1)YAML（Yet Another Markup Language）</span><br><span class="line">		写 YAML 要比写 XML 快得多(无需关注标签或引号)</span><br><span class="line">		使用空格 Space 缩进表示分层，不同层次之间的缩进可以使用不同的空格数目</span><br><span class="line">		注意：key后面的冒号，后面一定要跟一个空格,树状结构</span><br><span class="line">	application.properties示例</span><br><span class="line">		server.port=8090  </span><br><span class="line">		server.session-timeout=30  </span><br><span class="line">		server.tomcat.max-threads=0  </span><br><span class="line">		server.tomcat.uri-encoding=UTF-8 </span><br><span class="line"></span><br><span class="line">	application.yml示例</span><br><span class="line">		server:  </span><br><span class="line">			port: 8090  </span><br><span class="line">			session-timeout: 30  </span><br><span class="line">			tomcat.max-threads: 0  </span><br><span class="line">			tomcat.uri-encoding: UTF-8 </span><br><span class="line"></span><br><span class="line">2、参考：https://docs.spring.io/spring-boot/docs/2.7.0/reference/htmlsingle/#common-application-properties</span><br><span class="line">如果需要修改，直接复制对应的配置文件，加到application.properties里面</span><br></pre></td></tr></table></figure>

<h3 id="3-SpringBoot注解把配置文件自动映射到属性和实体类实战"><a href="#3-SpringBoot注解把配置文件自动映射到属性和实体类实战" class="headerlink" title="3. SpringBoot注解把配置文件自动映射到属性和实体类实战"></a>3. SpringBoot注解把配置文件自动映射到属性和实体类实战</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">1、配置文件加载</span><br><span class="line">	方式一</span><br><span class="line">		1、Controller上面配置</span><br><span class="line">		   @PropertySource(&#123;&quot;classpath:resource.properties&quot;&#125;)</span><br><span class="line">		2、增加属性</span><br><span class="line">			 @Value(&quot;$&#123;test.name&#125;&quot;)</span><br><span class="line">			 private String name;</span><br><span class="line"></span><br><span class="line">	方式二：实体类配置文件</span><br><span class="line">	步骤：</span><br><span class="line">		1、添加 @Component 注解；</span><br><span class="line">		2、使用 @PropertySource(&#123;&quot;classpath:resource.properties&quot;&#125;) 注解 指定配置文件位置；</span><br><span class="line">		3、使用 @ConfigurationProperties 注解，设置相关属性；</span><br><span class="line"></span><br><span class="line">		4、必须 通过注入IOC对象Resource 进来 ， 才能在类中使用获取的配置文件值。</span><br><span class="line">			@Autowired</span><br><span class="line">			private ServerSettings serverSettings;</span><br><span class="line">			</span><br><span class="line">			例子1：</span><br><span class="line">				@Configuration</span><br><span class="line">				@ConfigurationProperties</span><br><span class="line">				@PropertySource(value=&quot;classpath:resource.properties&quot;)</span><br><span class="line">				public class ServerConstant &#123;</span><br><span class="line">					@Value(&quot;$&#123;test.name&#125;&quot;)</span><br><span class="line">					private String name;</span><br><span class="line"></span><br><span class="line">			例子2：此例子配置名直接和字段名匹配</span><br><span class="line">				@Configuration</span><br><span class="line">				@ConfigurationProperties(prefix=&quot;test&quot;)</span><br><span class="line">				@PropertySource(value=&quot;classpath:resource.properties&quot;)</span><br><span class="line">				public class ServerConstant &#123;</span><br><span class="line">					private String name;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		常见问题：</span><br><span class="line">			1、配置文件注入失败，Could not resolve placeholder</span><br><span class="line">				解决：根据springboot启动流程，会有自动扫描包没有扫描到相关注解, </span><br><span class="line">				默认Spring框架实现会从声明@ComponentScan所在的类的package进行扫描，来自动注入，</span><br><span class="line">				因此启动类最好放在根路径下面，或者指定扫描包范围</span><br><span class="line">				spring-boot扫描启动类对应的目录和子目录</span><br><span class="line">			2、注入bean的方式，属性名称和配置文件里面的key一一对应，就用加@Value 这个注解</span><br><span class="line">				如果不一样，就要加@value(&quot;$&#123;XXX&#125;&quot;)</span><br></pre></td></tr></table></figure>

<h2 id="4-Springboot2-0单元测试进阶实战和自定义异常处理"><a href="#4-Springboot2-0单元测试进阶实战和自定义异常处理" class="headerlink" title="4. Springboot2.0单元测试进阶实战和自定义异常处理"></a>4. Springboot2.0单元测试进阶实战和自定义异常处理</h2><h3 id="1-SpringBootTest单元测试实战"><a href="#1-SpringBootTest单元测试实战" class="headerlink" title="1. @SpringBootTest单元测试实战"></a>1. @SpringBootTest单元测试实战</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">1、引入相关依赖</span><br><span class="line">	 &lt;!--springboot程序测试依赖，如果是自动创建项目默认添加--&gt;</span><br><span class="line">		&lt;dependency&gt;</span><br><span class="line">			&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">			&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;</span><br><span class="line">			&lt;scope&gt;test&lt;/scope&gt;</span><br><span class="line">		&lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2、使用</span><br><span class="line">	@RunWith(SpringRunner.class)  //底层用junit  SpringJUnit4ClassRunner  类注解</span><br><span class="line">	@SpringBootTest(classes=&#123;XdclassApplication.class&#125;)//启动整个springboot工程</span><br><span class="line">	public class SpringBootTests &#123; &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">3、SpringBoot测试进阶高级篇之MockMvc讲解</span><br><span class="line">	简介:讲解MockMvc类的使用和模拟Http请求实战</span><br><span class="line"></span><br><span class="line">		1、增加类注解 @AutoConfigureMockMvc</span><br><span class="line">					@SpringBootTest(classes=&#123;XdclassApplication.class&#125;)</span><br><span class="line">		2、 成员变量</span><br><span class="line">			@Autowired</span><br><span class="line">			private MockMvc mockMvc;</span><br><span class="line">		3、相关API</span><br><span class="line">			perform：执行一个RequestBuilder请求</span><br><span class="line">			andExpect：添加ResultMatcher-&gt;MockMvcResultMatchers验证规则</span><br><span class="line">			andReturn：最后返回相应的MvcResult-&gt;Response</span><br><span class="line">			例子：</span><br><span class="line">			MvcResult mvcResult =  mockMvc.perform(MockMvcRequestBuilders.get(&quot;/test/home&quot;) ).andExpect(MockMvcResultMatchers.status().isOk() ).andReturn();</span><br><span class="line">			int status = mvcResult.getResponse().getStatus();</span><br><span class="line">			System.out.println(status);</span><br></pre></td></tr></table></figure>

<h3 id="2-SpringBoot2-x个性化启动banner设置和debug日志"><a href="#2-SpringBoot2-x个性化启动banner设置和debug日志" class="headerlink" title="2. SpringBoot2.x个性化启动banner设置和debug日志"></a>2. SpringBoot2.x个性化启动banner设置和debug日志</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1、启动获取更多日志信息 java -jar xxx.jar --debug</span><br><span class="line"></span><br><span class="line">2、修改启动的banner信息</span><br><span class="line">	1）在类路径下增加一个banner.txt，里面是启动要输出的信息</span><br><span class="line">	2）在applicatoin.properties增加banner文件的路径地址 </span><br><span class="line">		spring.banner.location=banner.txt</span><br><span class="line"></span><br><span class="line">	3）官网地址 https://docs.spring.io/spring-boot/docs/2.7.0/reference/htmlsingle/#features.spring-application.banner</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="3-SpringBoot2-x配置全局异常实战"><a href="#3-SpringBoot2-x配置全局异常实战" class="headerlink" title="3. SpringBoot2.x配置全局异常实战"></a>3. SpringBoot2.x配置全局异常实战</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1、默认异常测试  int i = 1/0，不友好</span><br><span class="line"></span><br><span class="line">2、异常注解介绍</span><br><span class="line">	@ControllerAdvice 如果是返回json数据 则用 RestControllerAdvice,就可以不加 @ResponseBody</span><br><span class="line">	</span><br><span class="line">	//捕获全局异常,处理所有不可知的异常</span><br><span class="line">	@ExceptionHandler(value=Exception.class)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">//@ControllerAdvice</span><br><span class="line">@RestControllerAdvice</span><br><span class="line">public class CustomExtHandler &#123;</span><br><span class="line"></span><br><span class="line">    private static final Logger logger = LoggerFactory.getLogger(CustomExtHandler.class);</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">	//捕获全局异常,处理所有不可知的异常</span><br><span class="line">	//@ResponseBody</span><br><span class="line">	@ExceptionHandler(value=Exception.class)</span><br><span class="line">    Object handleException(Exception e,HttpServletRequest request)&#123;</span><br><span class="line">		logger.error(&quot;url &#123;&#125;, msg &#123;&#125;&quot;,request.getRequestURL(), e.getMessage());</span><br><span class="line">		Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();</span><br><span class="line">	        map.put(&quot;code&quot;, 100);</span><br><span class="line">	        map.put(&quot;msg&quot;, e.getMessage());</span><br><span class="line">	        map.put(&quot;url&quot;, request.getRequestURL());</span><br><span class="line">	        return map;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-SpringBoot2-x配置全局异常返回自定义页面"><a href="#4-SpringBoot2-x配置全局异常返回自定义页面" class="headerlink" title="4. SpringBoot2.x配置全局异常返回自定义页面"></a>4. SpringBoot2.x配置全局异常返回自定义页面</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1、返回自定义异常界面，需要引入thymeleaf依赖</span><br><span class="line">	&lt;dependency&gt;</span><br><span class="line">	   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">	   &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;</span><br><span class="line">	&lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2、resource目录下新建templates,并新建error.html   CustomExtHandler类使用以下方式</span><br><span class="line">	@ExceptionHandler(value=MyException.class)</span><br><span class="line">    Object handleMyException(MyException e,HttpServletRequest request)&#123;</span><br><span class="line">        ModelAndView modelAndView = new ModelAndView();</span><br><span class="line">        modelAndView.setViewName(&quot;error.html&quot;);</span><br><span class="line">        modelAndView.addObject(&quot;msg&quot;, e.getMessage());</span><br><span class="line">        return modelAndView;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">https://docs.spring.io/spring-boot/docs/2.7.0/reference/htmlsingle/#web.servlet.spring-mvc.error-handling</span><br></pre></td></tr></table></figure>



<h2 id="5-SpringBoot部署war项目到tomcat"><a href="#5-SpringBoot部署war项目到tomcat" class="headerlink" title="5. SpringBoot部署war项目到tomcat"></a>5. SpringBoot部署war项目到tomcat</h2><h3 id="1-SpringBoot启动方式讲解和部署war项目到tomcat"><a href="#1-SpringBoot启动方式讲解和部署war项目到tomcat" class="headerlink" title="1. SpringBoot启动方式讲解和部署war项目到tomcat"></a>1. SpringBoot启动方式讲解和部署war项目到tomcat</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">1、ide启动</span><br><span class="line">2、jar包方式启动</span><br><span class="line">			maven插件:</span><br><span class="line">			&lt;build&gt;</span><br><span class="line">			&lt;plugins&gt;</span><br><span class="line">				&lt;plugin&gt;</span><br><span class="line">					&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">					&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;</span><br><span class="line">				&lt;/plugin&gt;</span><br><span class="line">			&lt;/plugins&gt;</span><br><span class="line">			&lt;/build&gt;</span><br><span class="line">			</span><br><span class="line">			如果没有加，则执行jar包 ，报错如下</span><br><span class="line">				java -jar spring-boot-demo-0.0.1-SNAPSHOT.jar</span><br><span class="line">				no main manifest attribute, in spring-boot-demo-0.0.1-SNAPSHOT.jar</span><br><span class="line">			如果有安装maven 用 mvn spring-boot:run</span><br><span class="line">	项目结构</span><br><span class="line">		example.jar</span><br><span class="line">				 |</span><br><span class="line">				 +-META-INF</span><br><span class="line">				 |  +-MANIFEST.MF</span><br><span class="line">				 +-org</span><br><span class="line">				 |  +-springframework</span><br><span class="line">				 |     +-boot</span><br><span class="line">				 |        +-loader</span><br><span class="line">				 |           +-&lt;spring boot loader classes&gt;</span><br><span class="line">				 +-BOOT-INF</span><br><span class="line">					+-classes</span><br><span class="line">					|  +-mycompany</span><br><span class="line">					|     +-project</span><br><span class="line">					|        +-YourClasses.class</span><br><span class="line">					+-lib</span><br><span class="line">					   +-dependency1.jar</span><br><span class="line">					   +-dependency2.jar</span><br><span class="line"></span><br><span class="line">官方文档：https://docs.spring.io/spring-boot/docs/2.7.0/reference/htmlsingle/#appendix.executable-jar.nested-jars.jar-structure</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">3、war包方式启动</span><br><span class="line">	1)在pom.xml中将打包形式 jar 修改为war  &lt;packaging&gt;war&lt;/packaging&gt;</span><br><span class="line"></span><br><span class="line">	构建项目名称 &lt;finalName&gt;xdclass_springboot&lt;/finalName&gt;</span><br><span class="line"></span><br><span class="line">	2)tocmat下载 https://tomcat.apache.org/download-90.cgi</span><br><span class="line">	</span><br><span class="line">	3)修改启动类</span><br><span class="line">		public class XdclassApplication extends SpringBootServletInitializer &#123;</span><br><span class="line"></span><br><span class="line">			@Override</span><br><span class="line">			protected SpringApplicationBuilder configure(SpringApplicationBuilder application) &#123;</span><br><span class="line">				return application.sources(XdclassApplication.class);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			public static void main(String[] args) throws Exception &#123;</span><br><span class="line">				SpringApplication.run(XdclassApplication.class, args);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	4)打包项目，启动tomcat</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">4、启动容器介绍(Tomcat vs. Jetty vs. Undertow) 和 第三方测试数据讲解</span><br><span class="line"></span><br><span class="line">使用Jmter测试工具测试性能，QPS,TPS，RT</span><br><span class="line"></span><br><span class="line">https://examples.javacodegeeks.com/enterprise-java/spring/tomcat-vs-jetty-vs-undertow-comparison-of-spring-boot-embedded-servlet-containers/</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="6-SpringBoot拦截器实战和-Servlet3-0自定义Filter、Listener"><a href="#6-SpringBoot拦截器实战和-Servlet3-0自定义Filter、Listener" class="headerlink" title="6. SpringBoot拦截器实战和 Servlet3.0自定义Filter、Listener"></a>6. SpringBoot拦截器实战和 Servlet3.0自定义Filter、Listener</h2><h3 id="1-深入SpringBoot2-x过滤器Filter和使用Servlet3-0配置自定义Filter实战-核心知识"><a href="#1-深入SpringBoot2-x过滤器Filter和使用Servlet3-0配置自定义Filter实战-核心知识" class="headerlink" title="1. 深入SpringBoot2.x过滤器Filter和使用Servlet3.0配置自定义Filter实战(核心知识)"></a>1. 深入SpringBoot2.x过滤器Filter和使用Servlet3.0配置自定义Filter实战(核心知识)</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">filter简单理解：人---&gt;检票员（filter）---&gt; 景点</span><br><span class="line"></span><br><span class="line">1、SpringBoot启动默认加载的Filter </span><br><span class="line">	characterEncodingFilter</span><br><span class="line">	hiddenHttpMethodFilter</span><br><span class="line">	httpPutFormContentFilter</span><br><span class="line">	requestContextFilter</span><br><span class="line">		</span><br><span class="line">2、Filter优先级</span><br><span class="line"></span><br><span class="line">	Ordered.HIGHEST_PRECEDENCE</span><br><span class="line">	Ordered.LOWEST_PRECEDENCE</span><br><span class="line"></span><br><span class="line">	低位值意味着更高的优先级 Higher values are interpreted as lower priority</span><br><span class="line">	自定义Filter，避免和默认的Filter优先级一样，不然会冲突</span><br><span class="line"></span><br><span class="line">	注册Filter的bean FilterRegistrationBean</span><br><span class="line">	同模块里面有相关默认Filter</span><br><span class="line">		web-&gt;servlet-&gt;filter</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">3、自定义Filter</span><br><span class="line">	1）使用Servlet3.0的注解进行配置</span><br><span class="line">	2）启动类里面增加 @ServletComponentScan，进行扫描</span><br><span class="line">	3）新建一个Filter类，implements Filter，并实现对应的接口</span><br><span class="line">	4) @WebFilter 标记一个类为filter，被spring进行扫描 </span><br><span class="line">		urlPatterns：拦截规则，支持正则</span><br><span class="line"></span><br><span class="line">	6）控制chain.doFilter的方法的调用，来实现是否放行</span><br><span class="line">	   不放行，web应用resp.sendRedirect(&quot;/index.html&quot;);</span><br><span class="line">		场景：权限控制、用户登录(非前端后端分离场景)等</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">官网地址：https://docs.spring.io/spring-boot/docs/2.7.0/reference/htmlsingle/#boot-features-embedded-container-servlets-filters-listeners</span><br></pre></td></tr></table></figure>



<h3 id="2-Servlet3-0的注解自定义原生Servlet实战"><a href="#2-Servlet3-0的注解自定义原生Servlet实战" class="headerlink" title="2. Servlet3.0的注解自定义原生Servlet实战"></a>2. Servlet3.0的注解自定义原生Servlet实战</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">1、自定义原生Servlet</span><br><span class="line"></span><br><span class="line">	@WebServlet(name = &quot;userServlet&quot;,urlPatterns = &quot;/test/customs&quot;)</span><br><span class="line">	public class UserServlet extends HttpServlet&#123;</span><br><span class="line"></span><br><span class="line">		 @Override</span><br><span class="line">		 public void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line">			 resp.getWriter().print(&quot;custom sevlet&quot;);</span><br><span class="line">			 resp.getWriter().flush();</span><br><span class="line">			 resp.getWriter().close();</span><br><span class="line">		 &#125;</span><br><span class="line"></span><br><span class="line">		 @Override</span><br><span class="line">		 protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line">			 this.doGet(req, resp);</span><br><span class="line">		 &#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="3-Servlet3-0的注解自定义原生Listener监听器实战"><a href="#3-Servlet3-0的注解自定义原生Listener监听器实战" class="headerlink" title="3. Servlet3.0的注解自定义原生Listener监听器实战"></a>3. Servlet3.0的注解自定义原生Listener监听器实战</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">1、自定义Listener(常用的监听器 servletContextListener、httpSessionListener、servletRequestListener)</span><br><span class="line">			@WebListener</span><br><span class="line">			public class RequestListener implements ServletRequestListener &#123;</span><br><span class="line"></span><br><span class="line">			@Override</span><br><span class="line">			public void requestDestroyed(ServletRequestEvent sre) &#123;</span><br><span class="line">				// TODO Auto-generated method stub</span><br><span class="line">				System.out.println(&quot;======requestDestroyed========&quot;);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			@Override</span><br><span class="line">			public void requestInitialized(ServletRequestEvent sre) &#123;</span><br><span class="line">				System.out.println(&quot;======requestInitialized========&quot;);</span><br><span class="line">				</span><br><span class="line">			&#125;</span><br></pre></td></tr></table></figure>



<h3 id="4-SpringBoot2-X自定义拦截器实战及新旧配置对比"><a href="#4-SpringBoot2-X自定义拦截器实战及新旧配置对比" class="headerlink" title="4. SpringBoot2.X自定义拦截器实战及新旧配置对比"></a>4. SpringBoot2.X自定义拦截器实战及新旧配置对比</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">1、@Configuration</span><br><span class="line">	继承WebMvcConfigurationAdapter(SpringBoot2.X之前旧版本)</span><br><span class="line"></span><br><span class="line">	SpringBoot2.X 新版本配置拦截器 implements WebMvcConfigurer</span><br><span class="line"></span><br><span class="line">2、自定义拦截器 HandlerInterceptor</span><br><span class="line">	preHandle：调用Controller某个方法之前</span><br><span class="line">	postHandle：Controller之后调用，视图渲染之前，如果控制器Controller出现了异常，则不会执行此方法</span><br><span class="line">	afterCompletion：不管有没有异常，这个afterCompletion都会被调用，用于资源清理</span><br><span class="line"></span><br><span class="line">3、按照注册顺序进行拦截，先注册，再被拦截</span><br><span class="line"></span><br><span class="line">拦截器不生效常见问题：</span><br><span class="line">	1）是否有加@Configuration</span><br><span class="line">	2）拦截路径是否有问题 **  和 * </span><br><span class="line">	3）拦截器最后路径一定要 “/**”， 如果是目录的话则是 /*/</span><br><span class="line"></span><br><span class="line">Filter</span><br><span class="line">	是基于函数回调 doFilter()，而Interceptor则是基于AOP思想</span><br><span class="line">	Filter在只在Servlet前后起作用，而Interceptor够深入到方法前后、异常抛出前后等</span><br><span class="line"></span><br><span class="line">	依赖于Servlet容器即web应用中，而Interceptor不依赖于Servlet容器所以可以运行在多种环境。</span><br><span class="line"></span><br><span class="line">	在接口调用的生命周期里，Interceptor可以被多次调用，而Filter只能在容器初始化时调用一次。</span><br><span class="line">	</span><br><span class="line">	Filter和Interceptor的执行顺序</span><br><span class="line">	</span><br><span class="line">	过滤前-&gt;拦截前-&gt;action执行-&gt;拦截后-&gt;过滤后</span><br></pre></td></tr></table></figure>



<h2 id="7-SpringBoot常用Starter介绍和整合模板引擎Freemaker、thymeleaf"><a href="#7-SpringBoot常用Starter介绍和整合模板引擎Freemaker、thymeleaf" class="headerlink" title="7. SpringBoot常用Starter介绍和整合模板引擎Freemaker、thymeleaf"></a>7. SpringBoot常用Starter介绍和整合模板引擎Freemaker、thymeleaf</h2><h3 id="1-SpringBoot-Starter"><a href="#1-SpringBoot-Starter" class="headerlink" title="1. SpringBoot Starter"></a>1. SpringBoot Starter</h3><p>官网地址：<a target="_blank" rel="noopener" href="https://docs.spring.io/spring-boot/docs/2.7.0/reference/htmlsingle/#using-boot-starter">https://docs.spring.io/spring-boot/docs/2.7.0/reference/htmlsingle/#using-boot-starter</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">1、starter主要简化依赖用的</span><br><span class="line">	spring-boot-starter-web	-&gt;里面包含多种依赖</span><br><span class="line"></span><br><span class="line">2、几个常用的starter</span><br><span class="line">	spring-boot-starter-activemq</span><br><span class="line">	spring-boot-starter-aop</span><br><span class="line">	spring-boot-starter-data-redis</span><br><span class="line">	spring-boot-starter-freemarker</span><br><span class="line">	spring-boot-starter-thymeleaf</span><br><span class="line">	spring-boot-starter-webflux</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="2-SpringBoot2-x常见模板引擎讲解和官方推荐使用"><a href="#2-SpringBoot2-x常见模板引擎讲解和官方推荐使用" class="headerlink" title="2. SpringBoot2.x常见模板引擎讲解和官方推荐使用"></a>2. SpringBoot2.x常见模板引擎讲解和官方推荐使用</h3><h4 id="1-JSP（后端渲染，消耗性能）"><a href="#1-JSP（后端渲染，消耗性能）" class="headerlink" title="1. JSP（后端渲染，消耗性能）"></a>1. JSP（后端渲染，消耗性能）</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Java Server Pages 动态网页技术,由应用服务器中的JSP引擎来编译和执行，再将生成的整个页面返回给客户端</span><br><span class="line"></span><br><span class="line">可以写java代码</span><br><span class="line"></span><br><span class="line">持表达式语言（el、jstl）</span><br><span class="line"></span><br><span class="line">内建函数</span><br><span class="line"></span><br><span class="line">JSP-&gt;Servlet(占用JVM内存)permSize</span><br><span class="line"></span><br><span class="line">javaweb官方推荐</span><br><span class="line">springboot不推荐 </span><br><span class="line">https://docs.spring.io/spring-boot/docs/2.7.0/reference/htmlsingle/#boot-features-jsp-limitations</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="2-Freemarker"><a href="#2-Freemarker" class="headerlink" title="2. Freemarker"></a>2. Freemarker</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">FreeMarker Template Language（FTL）  文件一般保存为 xxx.ftl</span><br><span class="line"></span><br><span class="line">严格依赖MVC模式，不依赖Servlet容器（不占用JVM内存）</span><br><span class="line"></span><br><span class="line">内建函数</span><br></pre></td></tr></table></figure>



<h4 id="3-Thymeleaf-主推"><a href="#3-Thymeleaf-主推" class="headerlink" title="3. Thymeleaf (主推)"></a>3. Thymeleaf (主推)</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">轻量级的模板引擎（负责逻辑业务的不推荐，解析DOM或者XML会占用多的内存）</span><br><span class="line">可以直接在浏览器中打开且正确显示模板页面</span><br><span class="line"></span><br><span class="line">直接是html结尾，直接编辑</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="3-SpringBoot2-x整合模板引擎freemarker实战"><a href="#3-SpringBoot2-x整合模板引擎freemarker实战" class="headerlink" title="3. SpringBoot2.x整合模板引擎freemarker实战"></a>3. SpringBoot2.x整合模板引擎freemarker实战</h3><h4 id="1-Freemarker相关maven依赖"><a href="#1-Freemarker相关maven依赖" class="headerlink" title="1. Freemarker相关maven依赖"></a>1. Freemarker相关maven依赖</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 引入freemarker模板引擎的依赖 --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">	&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">	&lt;artifactId&gt;spring-boot-starter-freemarker&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="2-Freemarker基础配置"><a href="#2-Freemarker基础配置" class="headerlink" title="2. Freemarker基础配置"></a>2. Freemarker基础配置</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># 是否开启thymeleaf缓存,本地为false，生产建议为true</span><br><span class="line">spring.freemarker.cache=false</span><br><span class="line"></span><br><span class="line">spring.freemarker.charset=UTF-8</span><br><span class="line">spring.freemarker.allow-request-override=false</span><br><span class="line">spring.freemarker.check-template-location=true</span><br><span class="line"></span><br><span class="line">#类型</span><br><span class="line">spring.freemarker.content-type=text/html</span><br><span class="line"></span><br><span class="line">spring.freemarker.expose-request-attributes=true</span><br><span class="line">spring.freemarker.expose-session-attributes=true</span><br><span class="line"></span><br><span class="line">#文件后缀</span><br><span class="line">spring.freemarker.suffix=.ftl</span><br><span class="line">#路径</span><br><span class="line">spring.freemarker.template-loader-path=classpath:/templates/</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="3-建立文件夹"><a href="#3-建立文件夹" class="headerlink" title="3. 建立文件夹"></a>3. 建立文件夹</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1)src/main/resources/templates/fm/user/</span><br><span class="line"></span><br><span class="line">2)建立一个index.ftl</span><br><span class="line"></span><br><span class="line">3)user文件夹下面建立一个user.html</span><br></pre></td></tr></table></figure>

<h3 id="4-SpringBoot2-x整合模板引擎thymeleaf实战"><a href="#4-SpringBoot2-x整合模板引擎thymeleaf实战" class="headerlink" title="4. SpringBoot2.x整合模板引擎thymeleaf实战"></a>4. SpringBoot2.x整合模板引擎thymeleaf实战</h3><p>官网地址：<a target="_blank" rel="noopener" href="https://www.thymeleaf.org/doc/articles/thymeleaf3migration.html">https://www.thymeleaf.org/doc/articles/thymeleaf3migration.html</a></p>
<h4 id="1-thymeleaf相关maven依赖"><a href="#1-thymeleaf相关maven依赖" class="headerlink" title="1. thymeleaf相关maven依赖"></a>1. thymeleaf相关maven依赖</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">	&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">	&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="2-thymeleaf基础配置"><a href="#2-thymeleaf基础配置" class="headerlink" title="2. thymeleaf基础配置"></a>2. thymeleaf基础配置</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#开发时关闭缓存,不然没法看到实时页面</span><br><span class="line">spring.thymeleaf.cache=false</span><br><span class="line">spring.thymeleaf.mode=HTML5</span><br><span class="line"></span><br><span class="line">#前缀</span><br><span class="line">spring.thymeleaf.prefix=classpath:/templates/</span><br><span class="line"></span><br><span class="line">#编码</span><br><span class="line">spring.thymeleaf.encoding=UTF-8</span><br><span class="line"></span><br><span class="line">#类型</span><br><span class="line">spring.thymeleaf.content-type=text/html</span><br><span class="line"></span><br><span class="line">#名称的后缀</span><br><span class="line">spring.thymeleaf.suffix=.html</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="3-建立文件夹-1"><a href="#3-建立文件夹-1" class="headerlink" title="3. 建立文件夹"></a>3. 建立文件夹</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1)src/main/resources/templates/tl/</span><br><span class="line"></span><br><span class="line">2)建立一个index.html</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="4-简单测试代码编写和访问"><a href="#4-简单测试代码编写和访问" class="headerlink" title="4. 简单测试代码编写和访问"></a>4. 简单测试代码编写和访问</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">注意：$表达式只能写在th标签内部</span><br><span class="line">快速入门：https://www.thymeleaf.org/doc/articles/standarddialect5minutes.html</span><br></pre></td></tr></table></figure>



<h2 id="8-数据库操作之整合Mybaties和事务"><a href="#8-数据库操作之整合Mybaties和事务" class="headerlink" title="8. 数据库操作之整合Mybaties和事务"></a>8. 数据库操作之整合Mybaties和事务</h2><h3 id="1-SpringBoot2-x持久化数据方式"><a href="#1-SpringBoot2-x持久化数据方式" class="headerlink" title="1. SpringBoot2.x持久化数据方式"></a>1. SpringBoot2.x持久化数据方式</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">1、原始java访问数据库</span><br><span class="line">	开发流程麻烦</span><br><span class="line">	1、注册驱动/加载驱动</span><br><span class="line">		Class.forName(&quot;com.mysql.jdbc.Driver&quot;)</span><br><span class="line">	2、建立连接</span><br><span class="line">		Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/dbname&quot;,&quot;root&quot;,&quot;root&quot;);</span><br><span class="line">	3、创建Statement</span><br><span class="line"></span><br><span class="line">	4、执行SQL语句</span><br><span class="line"></span><br><span class="line">	5、处理结果集</span><br><span class="line"></span><br><span class="line">	6、关闭连接，释放资源</span><br><span class="line"></span><br><span class="line">2、apache dbutils框架</span><br><span class="line">	比上一步简单点</span><br><span class="line">	官网:https://commons.apache.org/proper/commons-dbutils/</span><br><span class="line">3、jpa框架</span><br><span class="line">	spring-data-jpa</span><br><span class="line">	jpa在复杂查询的时候性能不是很好</span><br><span class="line"></span><br><span class="line">4、Hiberante   解释：ORM：对象关系映射Object Relational Mapping</span><br><span class="line">	企业大都喜欢使用hibernate</span><br><span class="line"></span><br><span class="line">5、Mybatis框架   </span><br><span class="line">	互联网行业通常使用mybatis</span><br><span class="line">	不提供对象和关系模型的直接映射,半ORM</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="2-SpringBoot2-x整合Mybatis3-x注解实战"><a href="#2-SpringBoot2-x整合Mybatis3-x注解实战" class="headerlink" title="2. SpringBoot2.x整合Mybatis3.x注解实战"></a>2. SpringBoot2.x整合Mybatis3.x注解实战</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">1、使用starter, maven仓库地址：http://mvnrepository.com/artifact/org.mybatis.spring.boot/mybatis-spring-boot-starter</span><br><span class="line"></span><br><span class="line">2、加入依赖(可以用 http://start.spring.io/ 下载)</span><br><span class="line">			</span><br><span class="line">	&lt;!-- 引入starter--&gt;</span><br><span class="line">			&lt;dependency&gt;</span><br><span class="line">				&lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;</span><br><span class="line">				&lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;</span><br><span class="line">				&lt;version&gt;1.3.2&lt;/version&gt;</span><br><span class="line">				&lt;scope&gt;runtime&lt;/scope&gt;			    </span><br><span class="line">			&lt;/dependency&gt;</span><br><span class="line">			</span><br><span class="line">	&lt;!-- MySQL的JDBC驱动包	--&gt;	</span><br><span class="line">			&lt;dependency&gt;</span><br><span class="line">				&lt;groupId&gt;mysql&lt;/groupId&gt;</span><br><span class="line">				&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</span><br><span class="line">				&lt;scope&gt;runtime&lt;/scope&gt;</span><br><span class="line">			&lt;/dependency&gt; </span><br><span class="line">	&lt;!-- 引入第三方数据源 --&gt;		</span><br><span class="line">			&lt;dependency&gt;</span><br><span class="line">				&lt;groupId&gt;com.alibaba&lt;/groupId&gt;</span><br><span class="line">				&lt;artifactId&gt;druid&lt;/artifactId&gt;</span><br><span class="line">				&lt;version&gt;1.1.6&lt;/version&gt;</span><br><span class="line">			&lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">3、加入配置文件</span><br><span class="line">	#mybatis.type-aliases-package=net.xdclass.base_project.domain</span><br><span class="line">	#可以自动识别</span><br><span class="line">	#spring.datasource.driver-class-name =com.mysql.jdbc.Driver</span><br><span class="line"></span><br><span class="line">	spring.datasource.url=jdbc:mysql://localhost:3306/movie?useUnicode=true&amp;characterEncoding=utf-8</span><br><span class="line">	spring.datasource.username =root</span><br><span class="line">	spring.datasource.password =password</span><br><span class="line">	#如果不使用默认的数据源 （com.zaxxer.hikari.HikariDataSource）</span><br><span class="line">	spring.datasource.type =com.alibaba.druid.pool.DruidDataSource</span><br><span class="line"></span><br><span class="line">加载配置，注入到sqlSessionFactory等都是springBoot帮我们完成</span><br><span class="line"></span><br><span class="line">4、启动类增加mapper扫描</span><br><span class="line">	@MapperScan(&quot;net.xdclass.base_project.mapper&quot;)</span><br><span class="line"></span><br><span class="line">	 技巧：保存对象，获取数据库自增id </span><br><span class="line">	 @Options(useGeneratedKeys=true, keyProperty=&quot;id&quot;, keyColumn=&quot;id&quot;)</span><br><span class="line"></span><br><span class="line">4、开发mapper</span><br><span class="line">	参考语法 http://www.mybatis.org/mybatis-3/zh/java-api.html</span><br><span class="line"></span><br><span class="line">5、sql脚本</span><br><span class="line">	CREATE TABLE `user` (</span><br><span class="line">	  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,</span><br><span class="line">	  `name` varchar(128) DEFAULT NULL COMMENT &#x27;名称&#x27;,</span><br><span class="line">	  `phone` varchar(16) DEFAULT NULL COMMENT &#x27;用户手机号&#x27;,</span><br><span class="line">	  `create_time` datetime DEFAULT NULL COMMENT &#x27;创建时间&#x27;,</span><br><span class="line">	  `age` int(4) DEFAULT NULL COMMENT &#x27;年龄&#x27;,</span><br><span class="line">	  PRIMARY KEY (`id`)</span><br><span class="line">	) ENGINE=InnoDB AUTO_INCREMENT=18 DEFAULT CHARSET=utf8;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">相关资料：</span><br><span class="line">http://www.mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/#Configuration</span><br><span class="line"></span><br><span class="line">https://github.com/mybatis/spring-boot-starter/tree/master/mybatis-spring-boot-samples</span><br><span class="line"></span><br><span class="line">整合问题集合：</span><br><span class="line">	https://my.oschina.net/hxflar1314520/blog/1800035</span><br><span class="line">	https://blog.csdn.net/tingxuetage/article/details/80179772</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="3-SpringBoot2-x整合Mybatis3-x增删改查实操和控制台打印SQL语句"><a href="#3-SpringBoot2-x整合Mybatis3-x增删改查实操和控制台打印SQL语句" class="headerlink" title="3. SpringBoot2.x整合Mybatis3.x增删改查实操和控制台打印SQL语句"></a>3. SpringBoot2.x整合Mybatis3.x增删改查实操和控制台打印SQL语句</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">1、控制台打印sql语句		</span><br><span class="line">	#增加打印sql语句，一般用于本地开发测试</span><br><span class="line">	mybatis.configuration.log-impl=org.apache.ibatis.logging.stdout.StdOutImpl</span><br><span class="line"></span><br><span class="line">2、增加mapper代码		</span><br><span class="line">	@Select(&quot;SELECT * FROM user&quot;)</span><br><span class="line">	@Results(&#123;</span><br><span class="line">		@Result(column = &quot;create_time&quot;,property = &quot;createTime&quot;)  //javaType = java.util.Date.class        </span><br><span class="line">	&#125;)</span><br><span class="line">	List&lt;User&gt; getAll();</span><br><span class="line">  </span><br><span class="line">	@Select(&quot;SELECT * FROM user WHERE id = #&#123;id&#125;&quot;)</span><br><span class="line">	@Results(&#123;</span><br><span class="line">		 @Result(column = &quot;create_time&quot;,property = &quot;createTime&quot;)</span><br><span class="line">	&#125;)</span><br><span class="line">	User findById(Long id);</span><br><span class="line"></span><br><span class="line">	@Update(&quot;UPDATE user SET name=#&#123;name&#125; WHERE id =#&#123;id&#125;&quot;)</span><br><span class="line">	void update(User user);</span><br><span class="line"></span><br><span class="line">	@Delete(&quot;DELETE FROM user WHERE id =#&#123;userId&#125;&quot;)</span><br><span class="line">	void delete(Long userId);</span><br><span class="line"> </span><br><span class="line"> 3、增加API</span><br><span class="line"></span><br><span class="line">	@GetMapping(&quot;find_all&quot;)</span><br><span class="line">	public Object findAll()&#123;</span><br><span class="line">	   return JsonData.buildSuccess(userMapper.getAll());</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	@GetMapping(&quot;find_by_Id&quot;)</span><br><span class="line">	public Object findById(long id)&#123;</span><br><span class="line">	   return JsonData.buildSuccess(userMapper.findById(id));</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	@GetMapping(&quot;del_by_id&quot;)</span><br><span class="line">	public Object delById(long id)&#123;</span><br><span class="line">	userMapper.delete(id);</span><br><span class="line">	   return JsonData.buildSuccess();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	@GetMapping(&quot;update&quot;)</span><br><span class="line">	public Object update(String name,int id)&#123;</span><br><span class="line">		User user = new User();</span><br><span class="line">		user.setName(name);</span><br><span class="line">		user.setId(id);</span><br><span class="line">		userMapper.update(user);</span><br><span class="line">		return JsonData.buildSuccess();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="4-事务介绍和常见的隔离级别，传播行为"><a href="#4-事务介绍和常见的隔离级别，传播行为" class="headerlink" title="4. 事务介绍和常见的隔离级别，传播行为"></a>4. 事务介绍和常见的隔离级别，传播行为</h3><h4 id="1-介绍什么是事务，单机事务，分布式事务处理等"><a href="#1-介绍什么是事务，单机事务，分布式事务处理等" class="headerlink" title="1. 介绍什么是事务，单机事务，分布式事务处理等"></a>1. 介绍什么是事务，单机事务，分布式事务处理等</h4><p>略</p>
<h4 id="2-隔离级别"><a href="#2-隔离级别" class="headerlink" title="2. 隔离级别"></a>2. 隔离级别</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Serializable： 最严格，串行处理，消耗资源大</span><br><span class="line">Repeatable Read：保证了一个事务不会修改已经由另一个事务读取但未提交（回滚）的数据</span><br><span class="line">Read Committed：大多数主流数据库的默认事务等级</span><br><span class="line">Read Uncommitted：保证了读取过程中不会读取到非法数据。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="3-常见的传播行为"><a href="#3-常见的传播行为" class="headerlink" title="3. 常见的传播行为"></a>3. 常见的传播行为</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">PROPAGATION_REQUIRED--支持当前事务，如果当前没有事务，就新建一个事务,最常见的选择。</span><br><span class="line"></span><br><span class="line">PROPAGATION_SUPPORTS--支持当前事务，如果当前没有事务，就以非事务方式执行。</span><br><span class="line"></span><br><span class="line">PROPAGATION_MANDATORY--支持当前事务，如果当前没有事务，就抛出异常。</span><br><span class="line"></span><br><span class="line">PROPAGATION_REQUIRES_NEW--新建事务，如果当前存在事务，把当前事务挂起, 两个事务之间没有关系，一个异常，一个提交，不会同时回滚</span><br><span class="line"></span><br><span class="line">PROPAGATION_NOT_SUPPORTED--以非事务方式执行操作，如果当前存在事务，就把当前事务挂起。</span><br><span class="line"></span><br><span class="line">PROPAGATION_NEVER--以非事务方式执行，如果当前存在事务，则抛出异常</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="5-SpringBoot整合mybatis之事务处理"><a href="#5-SpringBoot整合mybatis之事务处理" class="headerlink" title="5. SpringBoot整合mybatis之事务处理"></a>5. SpringBoot整合mybatis之事务处理</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1、service逻辑引入事务 @Transantional(propagation=Propagation.REQUIRED)</span><br><span class="line"></span><br><span class="line">2、service代码</span><br><span class="line">	@Override</span><br><span class="line">	@Transactional</span><br><span class="line">	public int addAccount() &#123;</span><br><span class="line">		User user = new User();</span><br><span class="line">		user.setAge(9);</span><br><span class="line">		user.setCreateTime(new Date());</span><br><span class="line">		user.setName(&quot;事务测试&quot;);</span><br><span class="line">		user.setPhone(&quot;000121212&quot;);</span><br><span class="line">		</span><br><span class="line">		userMapper.insert(user);</span><br><span class="line">		int a = 1/0;</span><br><span class="line"></span><br><span class="line">		return user.getId();</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>



<h2 id="9-SpringBoot2-x整合Redis"><a href="#9-SpringBoot2-x整合Redis" class="headerlink" title="9. SpringBoot2.x整合Redis"></a>9. SpringBoot2.x整合Redis</h2><h3 id="1-分布式缓存Redis介绍"><a href="#1-分布式缓存Redis介绍" class="headerlink" title="1. 分布式缓存Redis介绍"></a>1. 分布式缓存Redis介绍</h3><p>为什么要用缓存, 什么是Redis?</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1、redis官网 https://redis.io/download</span><br><span class="line"></span><br><span class="line">2、新手入门redis在线测试工具：http://try.redis.io/</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="2-源码编译安装Redis4-x"><a href="#2-源码编译安装Redis4-x" class="headerlink" title="2. 源码编译安装Redis4.x"></a>2. 源码编译安装Redis4.x</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">1、快速安装  https://redis.io/download#installation</span><br><span class="line">		wget http://download.redis.io/releases/redis-4.0.9.tar.gz</span><br><span class="line">		tar xzf redis-4.0.9.tar.gz</span><br><span class="line">		cd redis-4.0.9</span><br><span class="line">		make</span><br><span class="line"></span><br><span class="line">		启动服务端：src/redis-server</span><br><span class="line">		启动客户端：src/redis-cli</span><br><span class="line"></span><br><span class="line">2、默认是本地访问的，需要开放外网访问</span><br><span class="line">	1）打开redis.conf文件在NETWORK部分修改</span><br><span class="line">	   注释掉bind 127.0.0.1可以使所有的ip访问redis</span><br><span class="line">	   修改 protected-mode，值改为no</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="3-SpringBoot2-x整合redis实战"><a href="#3-SpringBoot2-x整合redis实战" class="headerlink" title="3. SpringBoot2.x整合redis实战"></a>3. SpringBoot2.x整合redis实战</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">1、官网：https://docs.spring.io/spring-boot/docs/2.7.0/reference/htmlsingle/#boot-features-redis</span><br><span class="line">	集群文档：https://docs.spring.io/spring-data/data-redis/docs/current/reference/html/#cluster</span><br><span class="line"></span><br><span class="line">2、springboot整合redis相关依赖引入</span><br><span class="line">	&lt;dependency&gt;</span><br><span class="line">		&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">		&lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;</span><br><span class="line">	&lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">3、相关配置文件配置</span><br><span class="line">	#=========redis基础配置=========</span><br><span class="line">	spring.redis.database=0</span><br><span class="line">	spring.redis.host=127.0.0.1</span><br><span class="line">	spring.redis.port=6390</span><br><span class="line">	# 连接超时时间 单位 ms（毫秒）</span><br><span class="line">	spring.redis.timeout=3000</span><br><span class="line"></span><br><span class="line">	#=========redis线程池设置=========</span><br><span class="line">	# 连接池中的最大空闲连接，默认值也是8。</span><br><span class="line">	spring.redis.pool.max-idle=200</span><br><span class="line"></span><br><span class="line">	#连接池中的最小空闲连接，默认值也是0。</span><br><span class="line">	spring.redis.pool.min-idle=200</span><br><span class="line">	</span><br><span class="line">	# 如果赋值为-1，则表示不限制；pool已经分配了maxActive个jedis实例，则此时pool的状态为exhausted(耗尽)。</span><br><span class="line">	spring.redis.pool.max-active=2000</span><br><span class="line"></span><br><span class="line">	# 等待可用连接的最大时间，单位毫秒，默认值为-1，表示永不超时</span><br><span class="line">	spring.redis.pool.max-wait=1000</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">4、常见redistemplate种类讲解和缓存实操(使用自动注入)</span><br><span class="line"></span><br><span class="line">	1、注入模板</span><br><span class="line">	@Autowired</span><br><span class="line">	private StirngRedisTemplate strTplRedis</span><br><span class="line"></span><br><span class="line">	2、类型String，List,Hash,Set,ZSet</span><br><span class="line">	对应的方法分别是opsForValue()、opsForList()、opsForHash()、opsForSet()、opsForZSet()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="4-Redis工具类封装讲解和实战"><a href="#4-Redis工具类封装讲解和实战" class="headerlink" title="4. Redis工具类封装讲解和实战"></a>4. Redis工具类封装讲解和实战</h3><p>高效开发方式 Redis工具类封装讲解和实战</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1、常用客户端 https://redisdesktop.com/download</span><br><span class="line"></span><br><span class="line">2、封装redis工具类并操作</span><br></pre></td></tr></table></figure>



<h2 id="10-SpringBoot整合定时任务和异步任务处理"><a href="#10-SpringBoot整合定时任务和异步任务处理" class="headerlink" title="10. SpringBoot整合定时任务和异步任务处理"></a>10. SpringBoot整合定时任务和异步任务处理</h2><h3 id="1-SpringBoot定时任务schedule"><a href="#1-SpringBoot定时任务schedule" class="headerlink" title="1. SpringBoot定时任务schedule"></a>1. SpringBoot定时任务schedule</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">1、常见定时任务 Java自带的java.util.Timer类</span><br><span class="line">	timer:配置比较麻烦，时间延后问题</span><br><span class="line">	timertask:不推荐</span><br><span class="line"></span><br><span class="line">2、Quartz框架</span><br><span class="line">	配置更简单</span><br><span class="line">	xml或者注解</span><br><span class="line"></span><br><span class="line">3、SpringBoot使用注解方式开启定时任务</span><br><span class="line">	1）启动类里面 @EnableScheduling开启定时任务，自动扫描</span><br><span class="line">	2）定时任务业务类 加注解 @Component被容器扫描</span><br><span class="line">	3）定时执行的方法加上注解 @Scheduled(fixedRate=2000) 定期执行一次</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="2-SpringBoot常用定时任务配置实战"><a href="#2-SpringBoot常用定时任务配置实战" class="headerlink" title="2. SpringBoot常用定时任务配置实战"></a>2. SpringBoot常用定时任务配置实战</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1、cron 定时任务表达式 @Scheduled(cron=&quot;*/1 * * * * *&quot;) 表示每秒</span><br><span class="line">	1）crontab 工具  https://tool.lu/crontab/</span><br><span class="line">	</span><br><span class="line">2、fixedRate: 定时多久执行一次（上一次开始执行时间点后xx秒再次执行；）</span><br><span class="line"></span><br><span class="line">3、fixedDelay: 上一次执行结束时间点后xx秒再次执行</span><br><span class="line"></span><br><span class="line">4、fixedDelayString:  字符串形式，可以通过配置文件指定</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="3-SpringBoot2-x异步任务实战"><a href="#3-SpringBoot2-x异步任务实战" class="headerlink" title="3. SpringBoot2.x异步任务实战"></a>3. SpringBoot2.x异步任务实战</h3><p>什么是异步任务，如何使用SpringBoot2.x开发异步任务</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">1、什么是异步任务和使用场景：适用于处理log、发送邮件、短信……等</span><br><span class="line">	下单接口-&gt;查库存 100</span><br><span class="line">			余额校验 150</span><br><span class="line">			风控用户100</span><br><span class="line">			....</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2、启动类里面使用@EnableAsync注解开启功能，自动扫描</span><br><span class="line"></span><br><span class="line">3、定义异步任务类并使用@Component标记组件被容器扫描,异步方法加上@Async</span><br><span class="line">	注意点：</span><br><span class="line">		1）要把异步任务封装到类里面，不能直接写到Controller</span><br><span class="line">		2）增加Future&lt;String&gt; 返回结果 AsyncResult&lt;String&gt;(&quot;task执行完成&quot;);  </span><br><span class="line">		3）如果需要拿到结果 需要判断全部的 task.isDone()</span><br><span class="line">4、通过注入方式，注入到controller里面，如果测试前后区别则改为同步则把Async注释掉</span><br></pre></td></tr></table></figure>



<h2 id="11-Logback日志框架介绍和SpringBoot整合"><a href="#11-Logback日志框架介绍和SpringBoot整合" class="headerlink" title="11. Logback日志框架介绍和SpringBoot整合"></a>11. Logback日志框架介绍和SpringBoot整合</h2><h3 id="1-新日志框架LogBack介绍"><a href="#1-新日志框架LogBack介绍" class="headerlink" title="1. 新日志框架LogBack介绍"></a>1. 新日志框架LogBack介绍</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">1.常用处理java的日志组件 slf4j,log4j,logback,common-logging 等</span><br><span class="line"></span><br><span class="line">2、logback介绍：基于Log4j基础上大量改良，不能单独使用，推荐配合日志框架SLF4J来使用</span><br><span class="line">	logback当前分成三个模块：logback-core,logback-classic和logback-access;</span><br><span class="line">	logback-core是其它两个模块的基础模块</span><br><span class="line"></span><br><span class="line">3、Logback的核心对象：</span><br><span class="line">	Logger：日志记录器</span><br><span class="line">	Appender：指定日志输出的目的地，目的地可以是控制台，文件</span><br><span class="line">	Layout：日志布局 格式化日志信息的输出</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">4、日志级别：DEBUG &lt; INFO &lt; WARN &lt; ERROR</span><br><span class="line"></span><br><span class="line">	===========log4j示例===========		</span><br><span class="line">	 ### 设置###</span><br><span class="line">	log4j.rootLogger = debug,stdout,D,E</span><br><span class="line"></span><br><span class="line">	### 输出信息到控制抬 ###</span><br><span class="line">	log4j.appender.stdout = org.apache.log4j.ConsoleAppender</span><br><span class="line">	log4j.appender.stdout.Target = System.out</span><br><span class="line">	log4j.appender.stdout.layout = org.apache.log4j.PatternLayout</span><br><span class="line">	log4j.appender.stdout.layout.ConversionPattern = [%-5p] %d&#123;yyyy-MM-dd HH:mm:ss,SSS&#125; method:%l%n%m%n</span><br><span class="line"></span><br><span class="line">	### 输出DEBUG 级别以上的日志到=D://logs/log.log ###</span><br><span class="line">	log4j.appender.D = org.apache.log4j.DailyRollingFileAppender</span><br><span class="line">	log4j.appender.D.File = D://logs/log.log</span><br><span class="line">	log4j.appender.D.Append = true</span><br><span class="line">	log4j.appender.D.Threshold = DEBUG </span><br><span class="line">	log4j.appender.D.layout = org.apache.log4j.PatternLayout</span><br><span class="line">	log4j.appender.D.layout.ConversionPattern = %-d&#123;yyyy-MM-dd HH:mm:ss&#125;  [ %t:%r ] - [ %p ]  %m%n</span><br><span class="line"></span><br><span class="line">	### 输出ERROR 级别以上的日志到=D://logs/error.log ###</span><br><span class="line">	log4j.appender.E = org.apache.log4j.DailyRollingFileAppender</span><br><span class="line">	log4j.appender.E.File =E://logs/error.log </span><br><span class="line">	log4j.appender.E.Append = true</span><br><span class="line">	log4j.appender.E.Threshold = ERROR </span><br><span class="line">	log4j.appender.E.layout = org.apache.log4j.PatternLayout</span><br><span class="line">	log4j.appender.E.layout.ConversionPattern = %-d&#123;yyyy-MM-dd HH:mm:ss&#125;  [ %t:%r ] - [ %p ]  %m%n </span><br><span class="line"></span><br><span class="line">	===========logback============</span><br><span class="line"></span><br><span class="line">4、Log4j日志转换为logback在线工具（支持log4j.properties转换为logback.xml,不支持 log4j.xml转换为logback.xml）</span><br><span class="line"> https://logback.qos.ch/translator/</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="2-SpringBoot2-x日志讲解和自定义Logback配置"><a href="#2-SpringBoot2-x日志讲解和自定义Logback配置" class="headerlink" title="2. SpringBoot2.x日志讲解和自定义Logback配置"></a>2. SpringBoot2.x日志讲解和自定义Logback配置</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1、官网介绍：https://docs.spring.io/spring-boot/docs/2.7.0/reference/htmlsingle/#boot-features-logging</span><br><span class="line"></span><br><span class="line">   各个组件案例：https://logback.qos.ch/manual/index.html</span><br><span class="line"></span><br><span class="line">2、分析SpringBoot启动日志</span><br><span class="line">	1）默认情况下，Spring Boot将日志输出到控制台</span><br><span class="line"></span><br><span class="line">3、整合Logback实战</span><br><span class="line">	1）创建 日志文件logback-spring.xml，官方推荐 -spring.xml结尾</span><br><span class="line">		默认加载加载配置顺序 logback-spring.xml, logback-spring.groovy, logback.xml, or logback.groovy</span><br><span class="line">	</span><br><span class="line">	注释：</span><br><span class="line">		&lt;configuration&gt; 子节点</span><br><span class="line">		&lt;appender&gt;&lt;/appender&gt;   					</span><br><span class="line">		&lt;logger&gt;&lt;/logger&gt;</span><br><span class="line">		&lt;root&gt;&lt;/root&gt;(要加在最后)		</span><br></pre></td></tr></table></figure>



<h2 id="12-搜索框架ElasticSearch介绍和整合SpringBoot"><a href="#12-搜索框架ElasticSearch介绍和整合SpringBoot" class="headerlink" title="12. 搜索框架ElasticSearch介绍和整合SpringBoot"></a>12. 搜索框架ElasticSearch介绍和整合SpringBoot</h2><h2 id="13-消息队列介绍和SpringBoot2-x整合RockketMQ、ActiveMQ"><a href="#13-消息队列介绍和SpringBoot2-x整合RockketMQ、ActiveMQ" class="headerlink" title="13. 消息队列介绍和SpringBoot2.x整合RockketMQ、ActiveMQ"></a>13. 消息队列介绍和SpringBoot2.x整合RockketMQ、ActiveMQ</h2>
    </div>

    <div></div>
  </article>
  <div class="toc-container">
    
  <div id="toc" class="toc-article">
    <strong class="toc-title">目录</strong>
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#SpringBoot-2-X"><span class="toc-text">SpringBoot 2.X</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86"><span class="toc-text">1. 第一部分</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-SpringBoot2-x%E4%BE%9D%E8%B5%96%E7%8E%AF%E5%A2%83%E5%92%8C%E7%89%88%E6%9C%AC%E6%96%B0%E7%89%B9%E6%80%A7%E8%AF%B4%E6%98%8E"><span class="toc-text">1. SpringBoot2.x依赖环境和版本新特性说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%BF%AB%E9%80%9F%E5%88%9B%E5%BB%BASpringBoot2-x%E5%BA%94%E7%94%A8%E4%B9%8B%E6%89%8B%E5%B7%A5%E5%88%9B%E5%BB%BAweb%E5%BA%94%E7%94%A8"><span class="toc-text">2. 快速创建SpringBoot2.x应用之手工创建web应用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86-SpringBoot%E6%8E%A5%E5%8F%A3Http%E5%8D%8F%E8%AE%AE%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98"><span class="toc-text">2. 第二部分-SpringBoot接口Http协议开发实战</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-SpringBoot2-xHTTP%E8%AF%B7%E6%B1%82%E9%85%8D%E7%BD%AE%E8%AE%B2%E8%A7%A3"><span class="toc-text">1. SpringBoot2.xHTTP请求配置讲解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-PostMan%E6%8E%A5%E5%8F%A3%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7"><span class="toc-text">2. PostMan接口调试工具</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-SpringBoot%E5%9F%BA%E7%A1%80HTTP%E6%8E%A5%E5%8F%A3%E8%AF%B7%E6%B1%82%E5%AE%9E%E6%88%98"><span class="toc-text">3. SpringBoot基础HTTP接口请求实战</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-GET%E8%AF%B7%E6%B1%82"><span class="toc-text">1. GET请求</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-POST-PUT-DELETE%E8%AF%B7%E6%B1%82"><span class="toc-text">2. POST,PUT,DELETE请求</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%B8%B8%E7%94%A8json%E6%A1%86%E6%9E%B6%E4%BB%8B%E7%BB%8D%E5%92%8CJackson%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%E5%A4%84%E7%90%86"><span class="toc-text">3. 常用json框架介绍和Jackson返回结果处理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-SpringBoot2-x%E7%9B%AE%E5%BD%95%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84%E8%AE%B2%E8%A7%A3"><span class="toc-text">4. SpringBoot2.x目录文件结构讲解</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E5%AE%9E%E6%88%98"><span class="toc-text">4. 文件上传实战</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-jar%E5%8C%85%E6%96%B9%E5%BC%8F%E8%BF%90%E8%A1%8Cweb%E9%A1%B9%E7%9B%AE%E7%9A%84%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E5%92%8C%E8%AE%BF%E9%97%AE%E5%A4%84%E7%90%86"><span class="toc-text">5. jar包方式运行web项目的文件上传和访问处理</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-SpringBoot%E7%83%AD%E9%83%A8%E7%BD%B2devtool%E5%92%8C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%87%AA%E5%8A%A8%E6%B3%A8%E5%85%A5%E5%AE%9E%E6%88%98"><span class="toc-text">3. SpringBoot热部署devtool和配置文件自动注入实战</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%BD%BF%E7%94%A8Dev-tool%E7%83%AD%E9%83%A8%E7%BD%B2"><span class="toc-text">1. 使用Dev-tool热部署</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-SpringBoot2-x%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AE%B2%E8%A7%A3"><span class="toc-text">2. SpringBoot2.x配置文件讲解</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-xml%E3%80%81properties%E3%80%81json%E3%80%81yaml"><span class="toc-text">1. xml、properties、json、yaml</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-SpringBoot%E6%B3%A8%E8%A7%A3%E6%8A%8A%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%87%AA%E5%8A%A8%E6%98%A0%E5%B0%84%E5%88%B0%E5%B1%9E%E6%80%A7%E5%92%8C%E5%AE%9E%E4%BD%93%E7%B1%BB%E5%AE%9E%E6%88%98"><span class="toc-text">3. SpringBoot注解把配置文件自动映射到属性和实体类实战</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Springboot2-0%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E8%BF%9B%E9%98%B6%E5%AE%9E%E6%88%98%E5%92%8C%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="toc-text">4. Springboot2.0单元测试进阶实战和自定义异常处理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-SpringBootTest%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E5%AE%9E%E6%88%98"><span class="toc-text">1. @SpringBootTest单元测试实战</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-SpringBoot2-x%E4%B8%AA%E6%80%A7%E5%8C%96%E5%90%AF%E5%8A%A8banner%E8%AE%BE%E7%BD%AE%E5%92%8Cdebug%E6%97%A5%E5%BF%97"><span class="toc-text">2. SpringBoot2.x个性化启动banner设置和debug日志</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-SpringBoot2-x%E9%85%8D%E7%BD%AE%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8%E5%AE%9E%E6%88%98"><span class="toc-text">3. SpringBoot2.x配置全局异常实战</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-SpringBoot2-x%E9%85%8D%E7%BD%AE%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8%E8%BF%94%E5%9B%9E%E8%87%AA%E5%AE%9A%E4%B9%89%E9%A1%B5%E9%9D%A2"><span class="toc-text">4. SpringBoot2.x配置全局异常返回自定义页面</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-SpringBoot%E9%83%A8%E7%BD%B2war%E9%A1%B9%E7%9B%AE%E5%88%B0tomcat"><span class="toc-text">5. SpringBoot部署war项目到tomcat</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-SpringBoot%E5%90%AF%E5%8A%A8%E6%96%B9%E5%BC%8F%E8%AE%B2%E8%A7%A3%E5%92%8C%E9%83%A8%E7%BD%B2war%E9%A1%B9%E7%9B%AE%E5%88%B0tomcat"><span class="toc-text">1. SpringBoot启动方式讲解和部署war项目到tomcat</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SpringBoot%E6%8B%A6%E6%88%AA%E5%99%A8%E5%AE%9E%E6%88%98%E5%92%8C-Servlet3-0%E8%87%AA%E5%AE%9A%E4%B9%89Filter%E3%80%81Listener"><span class="toc-text">6. SpringBoot拦截器实战和 Servlet3.0自定义Filter、Listener</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%B7%B1%E5%85%A5SpringBoot2-x%E8%BF%87%E6%BB%A4%E5%99%A8Filter%E5%92%8C%E4%BD%BF%E7%94%A8Servlet3-0%E9%85%8D%E7%BD%AE%E8%87%AA%E5%AE%9A%E4%B9%89Filter%E5%AE%9E%E6%88%98-%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86"><span class="toc-text">1. 深入SpringBoot2.x过滤器Filter和使用Servlet3.0配置自定义Filter实战(核心知识)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Servlet3-0%E7%9A%84%E6%B3%A8%E8%A7%A3%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8E%9F%E7%94%9FServlet%E5%AE%9E%E6%88%98"><span class="toc-text">2. Servlet3.0的注解自定义原生Servlet实战</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Servlet3-0%E7%9A%84%E6%B3%A8%E8%A7%A3%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8E%9F%E7%94%9FListener%E7%9B%91%E5%90%AC%E5%99%A8%E5%AE%9E%E6%88%98"><span class="toc-text">3. Servlet3.0的注解自定义原生Listener监听器实战</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-SpringBoot2-X%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8B%A6%E6%88%AA%E5%99%A8%E5%AE%9E%E6%88%98%E5%8F%8A%E6%96%B0%E6%97%A7%E9%85%8D%E7%BD%AE%E5%AF%B9%E6%AF%94"><span class="toc-text">4. SpringBoot2.X自定义拦截器实战及新旧配置对比</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-SpringBoot%E5%B8%B8%E7%94%A8Starter%E4%BB%8B%E7%BB%8D%E5%92%8C%E6%95%B4%E5%90%88%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8EFreemaker%E3%80%81thymeleaf"><span class="toc-text">7. SpringBoot常用Starter介绍和整合模板引擎Freemaker、thymeleaf</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-SpringBoot-Starter"><span class="toc-text">1. SpringBoot Starter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-SpringBoot2-x%E5%B8%B8%E8%A7%81%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%E8%AE%B2%E8%A7%A3%E5%92%8C%E5%AE%98%E6%96%B9%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8"><span class="toc-text">2. SpringBoot2.x常见模板引擎讲解和官方推荐使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-JSP%EF%BC%88%E5%90%8E%E7%AB%AF%E6%B8%B2%E6%9F%93%EF%BC%8C%E6%B6%88%E8%80%97%E6%80%A7%E8%83%BD%EF%BC%89"><span class="toc-text">1. JSP（后端渲染，消耗性能）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-Freemarker"><span class="toc-text">2. Freemarker</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-Thymeleaf-%E4%B8%BB%E6%8E%A8"><span class="toc-text">3. Thymeleaf (主推)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-SpringBoot2-x%E6%95%B4%E5%90%88%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8Efreemarker%E5%AE%9E%E6%88%98"><span class="toc-text">3. SpringBoot2.x整合模板引擎freemarker实战</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-Freemarker%E7%9B%B8%E5%85%B3maven%E4%BE%9D%E8%B5%96"><span class="toc-text">1. Freemarker相关maven依赖</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-Freemarker%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE"><span class="toc-text">2. Freemarker基础配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%BB%BA%E7%AB%8B%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="toc-text">3. 建立文件夹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-SpringBoot2-x%E6%95%B4%E5%90%88%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8Ethymeleaf%E5%AE%9E%E6%88%98"><span class="toc-text">4. SpringBoot2.x整合模板引擎thymeleaf实战</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-thymeleaf%E7%9B%B8%E5%85%B3maven%E4%BE%9D%E8%B5%96"><span class="toc-text">1. thymeleaf相关maven依赖</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-thymeleaf%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE"><span class="toc-text">2. thymeleaf基础配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%BB%BA%E7%AB%8B%E6%96%87%E4%BB%B6%E5%A4%B9-1"><span class="toc-text">3. 建立文件夹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E7%AE%80%E5%8D%95%E6%B5%8B%E8%AF%95%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E5%92%8C%E8%AE%BF%E9%97%AE"><span class="toc-text">4. 简单测试代码编写和访问</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C%E4%B9%8B%E6%95%B4%E5%90%88Mybaties%E5%92%8C%E4%BA%8B%E5%8A%A1"><span class="toc-text">8. 数据库操作之整合Mybaties和事务</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-SpringBoot2-x%E6%8C%81%E4%B9%85%E5%8C%96%E6%95%B0%E6%8D%AE%E6%96%B9%E5%BC%8F"><span class="toc-text">1. SpringBoot2.x持久化数据方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-SpringBoot2-x%E6%95%B4%E5%90%88Mybatis3-x%E6%B3%A8%E8%A7%A3%E5%AE%9E%E6%88%98"><span class="toc-text">2. SpringBoot2.x整合Mybatis3.x注解实战</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-SpringBoot2-x%E6%95%B4%E5%90%88Mybatis3-x%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5%E5%AE%9E%E6%93%8D%E5%92%8C%E6%8E%A7%E5%88%B6%E5%8F%B0%E6%89%93%E5%8D%B0SQL%E8%AF%AD%E5%8F%A5"><span class="toc-text">3. SpringBoot2.x整合Mybatis3.x增删改查实操和控制台打印SQL语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E4%BA%8B%E5%8A%A1%E4%BB%8B%E7%BB%8D%E5%92%8C%E5%B8%B8%E8%A7%81%E7%9A%84%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%EF%BC%8C%E4%BC%A0%E6%92%AD%E8%A1%8C%E4%B8%BA"><span class="toc-text">4. 事务介绍和常见的隔离级别，传播行为</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%BB%8B%E7%BB%8D%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%8B%E5%8A%A1%EF%BC%8C%E5%8D%95%E6%9C%BA%E4%BA%8B%E5%8A%A1%EF%BC%8C%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1%E5%A4%84%E7%90%86%E7%AD%89"><span class="toc-text">1. 介绍什么是事务，单机事务，分布式事务处理等</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB"><span class="toc-text">2. 隔离级别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%B8%B8%E8%A7%81%E7%9A%84%E4%BC%A0%E6%92%AD%E8%A1%8C%E4%B8%BA"><span class="toc-text">3. 常见的传播行为</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-SpringBoot%E6%95%B4%E5%90%88mybatis%E4%B9%8B%E4%BA%8B%E5%8A%A1%E5%A4%84%E7%90%86"><span class="toc-text">5. SpringBoot整合mybatis之事务处理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-SpringBoot2-x%E6%95%B4%E5%90%88Redis"><span class="toc-text">9. SpringBoot2.x整合Redis</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98Redis%E4%BB%8B%E7%BB%8D"><span class="toc-text">1. 分布式缓存Redis介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85Redis4-x"><span class="toc-text">2. 源码编译安装Redis4.x</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-SpringBoot2-x%E6%95%B4%E5%90%88redis%E5%AE%9E%E6%88%98"><span class="toc-text">3. SpringBoot2.x整合redis实战</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-Redis%E5%B7%A5%E5%85%B7%E7%B1%BB%E5%B0%81%E8%A3%85%E8%AE%B2%E8%A7%A3%E5%92%8C%E5%AE%9E%E6%88%98"><span class="toc-text">4. Redis工具类封装讲解和实战</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-SpringBoot%E6%95%B4%E5%90%88%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E5%92%8C%E5%BC%82%E6%AD%A5%E4%BB%BB%E5%8A%A1%E5%A4%84%E7%90%86"><span class="toc-text">10. SpringBoot整合定时任务和异步任务处理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-SpringBoot%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1schedule"><span class="toc-text">1. SpringBoot定时任务schedule</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-SpringBoot%E5%B8%B8%E7%94%A8%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E9%85%8D%E7%BD%AE%E5%AE%9E%E6%88%98"><span class="toc-text">2. SpringBoot常用定时任务配置实战</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-SpringBoot2-x%E5%BC%82%E6%AD%A5%E4%BB%BB%E5%8A%A1%E5%AE%9E%E6%88%98"><span class="toc-text">3. SpringBoot2.x异步任务实战</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-Logback%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6%E4%BB%8B%E7%BB%8D%E5%92%8CSpringBoot%E6%95%B4%E5%90%88"><span class="toc-text">11. Logback日志框架介绍和SpringBoot整合</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%96%B0%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6LogBack%E4%BB%8B%E7%BB%8D"><span class="toc-text">1. 新日志框架LogBack介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-SpringBoot2-x%E6%97%A5%E5%BF%97%E8%AE%B2%E8%A7%A3%E5%92%8C%E8%87%AA%E5%AE%9A%E4%B9%89Logback%E9%85%8D%E7%BD%AE"><span class="toc-text">2. SpringBoot2.x日志讲解和自定义Logback配置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%90%9C%E7%B4%A2%E6%A1%86%E6%9E%B6ElasticSearch%E4%BB%8B%E7%BB%8D%E5%92%8C%E6%95%B4%E5%90%88SpringBoot"><span class="toc-text">12. 搜索框架ElasticSearch介绍和整合SpringBoot</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E4%BB%8B%E7%BB%8D%E5%92%8CSpringBoot2-x%E6%95%B4%E5%90%88RockketMQ%E3%80%81ActiveMQ"><span class="toc-text">13. 消息队列介绍和SpringBoot2.x整合RockketMQ、ActiveMQ</span></a></li></ol></li></ol>
  </div>


  </div>
</div>
<div class="copyright">
    <span>本作品采用</span>
    <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by/4.0/">知识共享署名 4.0 国际许可协议</a>
    <span>进行许可。 转载时请注明原文链接。</span>
</div>
<div class="share" style="width: 100%;">
  <img src="/../../../../images/wechat.png" alt="Running Geek" style="margin: auto; display: block;"/>

  <div style="margin: auto; text-align: center; font-size: 0.8em; color: grey;">微信扫一扫向我投食</div>
  
</div>

  
    <div class="post-nav">
      <div class="post-nav-item post-nav-next">
        
          <span>〈 </span>
          <a href="/2019/11/18/HBase/HBase%E7%AC%94%E8%AE%B0/" rel="next" title="HBase笔记">
          HBase笔记
          </a>
        
      </div>
  
      <div class="post-nav-item post-nav-prev">
          
          <a href="/2019/12/12/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/DesignPattern/" rel="prev" title="设计模式笔记">
            设计模式笔记
          </a>
          <span>〉</span>
        
      </div>
    </div>
  


    </div>

    

  </div>
  <footer class="footer text-center">
    <div id="bottom-inner">
        <a class="bottom-item" target="_blank" rel="noopener" href="https://zshlovely.github.io/">首页</a> |
        <a class="bottom-item" href="https://zshlovely.github.io/" target="_blank">主站</a> |
        <a class="bottom-item" href="https://github.com/fenghuayangyi" target="_blank">GitHub</a>
    </div>
</footer>
  

<script>
  (function(window, document, undefined) {

    var timer = null;

    function returnTop() {
      cancelAnimationFrame(timer);
      timer = requestAnimationFrame(function fn() {
        var oTop = document.body.scrollTop || document.documentElement.scrollTop;
        if (oTop > 0) {
          document.body.scrollTop = document.documentElement.scrollTop = oTop - 50;
          timer = requestAnimationFrame(fn);
        } else {
          cancelAnimationFrame(timer);
        }
      });
    }

    var hearts = [];
    window.requestAnimationFrame = (function() {
      return window.requestAnimationFrame ||
        window.webkitRequestAnimationFrame ||
        window.mozRequestAnimationFrame ||
        window.oRequestAnimationFrame ||
        window.msRequestAnimationFrame ||
        function(callback) {
          setTimeout(callback, 1000 / 60);
        }
    })();
    init();

    function init() {
      css(".heart{z-index:9999;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: absolute;}.heart:after{top: -5px;}.heart:before{left: -5px;}");
      attachEvent();
      gameloop();
      addMenuEvent();
    }

    function gameloop() {
      for (var i = 0; i < hearts.length; i++) {
        if (hearts[i].alpha <= 0) {
          document.body.removeChild(hearts[i].el);
          hearts.splice(i, 1);
          continue;
        }
        hearts[i].y--;
        hearts[i].scale += 0.004;
        hearts[i].alpha -= 0.013;
        hearts[i].el.style.cssText = "left:" + hearts[i].x + "px;top:" + hearts[i].y + "px;opacity:" + hearts[i].alpha + ";transform:scale(" + hearts[i].scale + "," + hearts[i].scale + ") rotate(45deg);background:" + hearts[i].color;
      }
      requestAnimationFrame(gameloop);
    }

    /**
     * 给logo设置点击事件
     * 
     * - 回到顶部
     * - 出现爱心
     */
    function attachEvent() {
      var old = typeof window.onclick === "function" && window.onclick;
      var logo = document.getElementById("logo");
      if (logo) {
        logo.onclick = function(event) {
          returnTop();
          old && old();
          createHeart(event);
        }
      }
      
    }

    function createHeart(event) {
      var d = document.createElement("div");
      d.className = "heart";
      hearts.push({
        el: d,
        x: event.clientX - 5,
        y: event.clientY - 5,
        scale: 1,
        alpha: 1,
        color: randomColor()
      });
      document.body.appendChild(d);
    }

    function css(css) {
      var style = document.createElement("style");
      style.type = "text/css";
      try {
        style.appendChild(document.createTextNode(css));
      } catch (ex) {
        style.styleSheet.cssText = css;
      }
      document.getElementsByTagName('head')[0].appendChild(style);
    }

    function randomColor() {
      // return "rgb(" + (~~(Math.random() * 255)) + "," + (~~(Math.random() * 255)) + "," + (~~(Math.random() * 255)) + ")";
      return "#F44336";
    }

    function addMenuEvent() {
      var menu = document.getElementById('menu-main-post');
      if (menu) {
        var toc = document.getElementById('toc');
        if (toc) {
          menu.onclick = function() {
            if (toc) {
              if (toc.style.display == 'block') {
                toc.style.display = 'none';
              } else {
                toc.style.display = 'block';
              }
            }
          };
        } else {
          menu.style.display = 'none';
        }
      }
    }

  })(window, document);
</script>

  



</body>
</html>
